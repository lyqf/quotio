# Outline

[← Back to MODULE](MODULE.md) | [← Back to INDEX](../../INDEX.md)

Symbol maps for 9 large files in this module.

## Quotio/QuotioApp.swift (633 lines)

| Line | Kind | Name | Visibility |
| ---- | ---- | ---- | ---------- |
| 17 | class | AppBootstrap | (internal) |
| 31 | method | init | (private) |
| 36 | fn | initializeIfNeeded | (internal) |
| 52 | fn | completeOnboarding | (internal) |
| 56 | fn | performFullInitialization | (private) |
| 85 | fn | updateStatusBar | (internal) |
| 136 | fn | resolveQuotaData | (private) |
| 155 | fn | normalizedCodexKey | (private) |
| 163 | fn | extractEmail | (private) |
| 172 | struct | QuotioApp | (internal) |
| 273 | class | AppDelegate | (internal) |
| 277 | fn | applicationDidFinishLaunching | (internal) |
| 331 | fn | applicationShouldTerminateAfterLastWindowClosed | (internal) |
| 335 | fn | applicationShouldHandleReopen | (internal) |
| 353 | fn | applicationWillTerminate | (internal) |
| 377 | fn | handleWindowDidBecomeKey | (private) |
| 381 | fn | handleWindowWillClose | (private) |
| 398 | struct | ContentView | (internal) |
| 531 | struct | RemoteStatusRow | (internal) |
| 574 | struct | ProxyStatusRow | (internal) |
| 605 | struct | QuotaRefreshStatusRow | (internal) |

## Quotio/Services/AgentConfigurationService.swift (1609 lines)

| Line | Kind | Name | Visibility |
| ---- | ---- | ---- | ---------- |
| 8 | class | AgentConfigurationService | (internal) |
| 46 | fn | readConfiguration | (internal) |
| 64 | fn | listBackups | (internal) |
| 93 | fn | restoreFromBackup | (internal) |
| 111 | fn | readClaudeCodeConfig | (private) |
| 147 | fn | readCodexConfig | (private) |
| 190 | fn | readGeminiCLIConfig | (private) |
| 228 | fn | readAmpConfig | (private) |
| 251 | fn | readOpenCodeConfig | (private) |
| 288 | fn | readFactoryDroidConfig | (private) |
| 325 | fn | extractTOMLValue | (private) |
| 336 | fn | extractExportValue | (private) |
| 351 | fn | escapeTOMLString | (private) |
| 379 | fn | buildManagedCodexTOML | (private) |
| 396 | fn | parseTOMLSectionName | (private) |
| 414 | fn | isCodexManagedTopLevelKey | (private) |
| 423 | fn | splitManagedCodexConfig | (private) |
| 431 | fn | extractManagedCodexBanner | (private) |
| 440 | fn | filterExistingCodexLines | (private) |
| 481 | fn | composeMergedCodexConfig | (private) |
| 552 | fn | mergeCodexConfig | (private) |
| 559 | fn | generateConfiguration | (internal) |
| 598 | fn | generateDefaultConfiguration | (private) |
| 614 | fn | generateClaudeCodeDefaultConfig | (private) |
| 699 | fn | generateCodexDefaultConfig | (private) |
| 746 | fn | generateGeminiCLIDefaultConfig | (private) |
| 774 | fn | generateAmpDefaultConfig | (private) |
| 820 | fn | generateOpenCodeDefaultConfig | (private) |
| 869 | fn | generateFactoryDroidDefaultConfig | (private) |
| 934 | fn | generateClaudeCodeConfig | (private) |
| 1056 | fn | generateCodexConfig | (private) |
| 1140 | fn | generateGeminiCLIConfig | (private) |
| 1183 | fn | generateAmpConfig | (private) |
| 1266 | fn | generateOpenCodeConfig | (private) |
| 1357 | fn | buildOpenCodeModelConfig | (private) |
| 1409 | fn | generateFactoryDroidConfig | (private) |
| 1479 | fn | fetchAvailableModels | (internal) |
| 1534 | fn | testConnection | (internal) |

## Quotio/Services/AtomFeedUpdateService.swift (533 lines)

| Line | Kind | Name | Visibility |
| ---- | ---- | ---- | ---------- |
| 14 | struct | AtomFeedEntry | (internal) |
| 24 | enum | AtomFeedResult | (internal) |
| 35 | struct | CachedFeedState | (internal) |
| 44 | class | AtomFeedUpdateService | (internal) |
| 111 | fn | checkForCLIProxyUpdate | (internal) |
| 160 | fn | checkForQuotioUpdate | (internal) |
| 205 | fn | forceCheckForCLIProxyUpdate | (internal) |
| 216 | fn | startPolling | (internal) |
| 238 | fn | stopPolling | (internal) |
| 248 | fn | performPollingCheck | (private) |
| 280 | fn | manualCheckForCLIProxyUpdate | (internal) |
| 298 | fn | resetNotificationState | (internal) |
| 304 | fn | fetchAtomFeed | (private) |
| 350 | fn | parseAtomFeed | (private) |
| 355 | fn | saveCacheState | (private) |
| 368 | fn | loadCacheState | (private) |
| 379 | fn | isNewerVersion | (private) |
| 380 | fn | parseVersion | (internal) |
| 418 | class | AtomFeedParser | (private) |
| 438 | method | init | (internal) |
| 443 | fn | parse | (internal) |
| 450 | fn | parser | (internal) |
| 466 | fn | parser | (internal) |
| 470 | fn | parser | (internal) |
| 515 | enum | AtomFeedError | (internal) |

## Quotio/Services/ManagementAPIClient.swift (732 lines)

| Line | Kind | Name | Visibility |
| ---- | ---- | ---- | ---------- |
| 8 | class | ManagementAPIClient | (internal) |
| 45 | fn | custom | (internal) |
| 55 | fn | log | (private) |
| 60 | fn | incrementActiveRequests | (private) |
| 67 | fn | decrementActiveRequests | (private) |
| 78 | method | init | (internal) |
| 101 | method | init | (internal) |
| 126 | method | init | (internal) |
| 139 | fn | invalidate | (internal) |
| 144 | fn | makeRequest | (private) |
| 206 | fn | fetchAuthFiles | (internal) |
| 212 | fn | fetchAuthFileModels | (internal) |
| 219 | fn | apiCall | (internal) |
| 225 | fn | deleteAuthFile | (internal) |
| 229 | fn | deleteAllAuthFiles | (internal) |
| 233 | fn | setAuthFileDisabled | (internal) |
| 242 | fn | fetchUsageStats | (internal) |
| 247 | fn | getOAuthURL | (internal) |
| 268 | fn | pollOAuthStatus | (internal) |
| 273 | fn | fetchLogs | (internal) |
| 282 | fn | clearLogs | (internal) |
| 286 | fn | setDebug | (internal) |
| 291 | fn | setRoutingStrategy | (internal) |
| 307 | fn | getRoutingStrategy | (internal) |
| 320 | fn | setQuotaExceededSwitchProject | (internal) |
| 325 | fn | setQuotaExceededSwitchPreviewModel | (internal) |
| 330 | fn | setRequestRetry | (internal) |
| 339 | fn | fetchConfig | (internal) |
| 345 | fn | getDebug | (internal) |
| 352 | fn | getProxyURL | (internal) |
| 359 | fn | setProxyURL | (internal) |
| 365 | fn | deleteProxyURL | (internal) |
| 370 | fn | getLoggingToFile | (internal) |
| 377 | fn | setLoggingToFile | (internal) |
| 383 | fn | getRequestLog | (internal) |
| 390 | fn | setRequestLog | (internal) |
| 396 | fn | getRequestRetry | (internal) |
| 403 | fn | getMaxRetryInterval | (internal) |
| 410 | fn | setMaxRetryInterval | (internal) |
| 416 | fn | getQuotaExceededSwitchProject | (internal) |
| 423 | fn | getQuotaExceededSwitchPreviewModel | (internal) |
| 428 | fn | uploadVertexServiceAccount | (internal) |
| 434 | fn | uploadVertexServiceAccount | (internal) |
| 438 | fn | fetchAPIKeys | (internal) |
| 444 | fn | addAPIKey | (internal) |
| 451 | fn | replaceAPIKeys | (internal) |
| 456 | fn | updateAPIKey | (internal) |
| 461 | fn | deleteAPIKey | (internal) |
| 466 | fn | deleteAPIKeyByIndex | (internal) |
| 475 | fn | fetchLatestVersion | (internal) |
| 482 | fn | checkProxyResponding | (internal) |
| 504 | class | SessionDelegate | (private) |
| 507 | method | init | (internal) |
| 513 | fn | urlSession | (internal) |
| 518 | fn | urlSession | (internal) |
| 529 | fn | urlSession | (internal) |
| 708 | method | init | (internal) |
| 722 | fn | encode | (internal) |

## Quotio/Services/Proxy/CLIProxyManager.swift (1979 lines)

| Line | Kind | Name | Visibility |
| ---- | ---- | ---- | ---------- |
| 9 | class | CLIProxyManager | (internal) |
| 193 | method | init | (internal) |
| 234 | fn | restartProxyIfRunning | (private) |
| 252 | fn | updateConfigValue | (private) |
| 272 | fn | updateConfigPort | (private) |
| 276 | fn | updateConfigHost | (private) |
| 280 | fn | ensureApiKeyExistsInConfig | (private) |
| 329 | fn | updateConfigAllowRemote | (internal) |
| 333 | fn | updateConfigLogging | (internal) |
| 341 | fn | updateConfigRoutingStrategy | (internal) |
| 346 | fn | updateConfigProxyURL | (internal) |
| 374 | fn | applyBaseURLWorkaround | (internal) |
| 403 | fn | removeBaseURLWorkaround | (internal) |
| 445 | fn | ensureConfigExists | (private) |
| 479 | fn | syncSecretKeyInConfig | (private) |
| 495 | fn | regenerateManagementKey | (internal) |
| 537 | fn | syncProxyURLInConfig | (private) |
| 554 | fn | syncCustomProvidersToConfig | (private) |
| 571 | fn | downloadAndInstallBinary | (internal) |
| 632 | fn | fetchLatestRelease | (private) |
| 653 | fn | findCompatibleAsset | (private) |
| 678 | fn | downloadAsset | (private) |
| 697 | fn | extractAndInstall | (private) |
| 759 | fn | findBinaryInDirectory | (private) |
| 792 | fn | start | (internal) |
| 924 | fn | stop | (internal) |
| 976 | fn | startHealthMonitor | (private) |
| 990 | fn | stopHealthMonitor | (private) |
| 995 | fn | performHealthCheck | (private) |
| 1058 | fn | cleanupOrphanProcesses | (private) |
| 1121 | fn | terminateAuthProcess | (internal) |
| 1127 | fn | toggle | (internal) |
| 1135 | fn | copyEndpointToClipboard | (internal) |
| 1140 | fn | revealInFinder | (internal) |
| 1147 | enum | ProxyError | (internal) |
| 1178 | enum | AuthCommand | (internal) |
| 1216 | struct | AuthCommandResult | (internal) |
| 1222 | mod | extension CLIProxyManager | (internal) |
| 1223 | fn | runAuthCommand | (internal) |
| 1255 | fn | appendOutput | (internal) |
| 1259 | fn | tryResume | (internal) |
| 1270 | fn | safeResume | (internal) |
| 1370 | mod | extension CLIProxyManager | (internal) |
| 1400 | fn | checkForUpgrade | (internal) |
| 1451 | fn | saveInstalledVersion | (private) |
| 1459 | fn | fetchAvailableReleases | (internal) |
| 1481 | fn | versionInfo | (internal) |
| 1487 | fn | fetchGitHubRelease | (private) |
| 1509 | fn | findCompatibleAsset | (private) |
| 1542 | fn | performManagedUpgrade | (internal) |
| 1600 | fn | downloadAndInstallVersion | (private) |
| 1647 | fn | startDryRun | (private) |
| 1718 | fn | promote | (private) |
| 1753 | fn | rollback | (internal) |
| 1786 | fn | stopTestProxy | (private) |
| 1815 | fn | stopTestProxySync | (private) |
| 1841 | fn | findUnusedPort | (private) |
| 1851 | fn | isPortInUse | (private) |
| 1870 | fn | createTestConfig | (private) |
| 1898 | fn | cleanupTestConfig | (private) |
| 1906 | fn | isNewerVersion | (private) |
| 1909 | fn | parseVersion | (internal) |
| 1941 | fn | findPreviousVersion | (private) |
| 1954 | fn | migrateToVersionedStorage | (internal) |

## Quotio/Services/Proxy/ProxyBridge.swift (1091 lines)

| Line | Kind | Name | Visibility |
| ---- | ---- | ---- | ---------- |
| 22 | struct | FallbackContext | (internal) |
| 96 | class | ProxyBridge | (internal) |
| 156 | method | init | (internal) |
| 165 | fn | configure | (internal) |
| 188 | fn | start | (internal) |
| 228 | fn | stop | (internal) |
| 238 | fn | handleListenerState | (private) |
| 254 | fn | handleNewConnection | (private) |
| 472 | fn | createFallbackContext | (private) |

## Quotio/Services/StatusBarMenuBuilder.swift (1470 lines)

| Line | Kind | Name | Visibility |
| ---- | ---- | ---- | ---------- |
| 18 | class | StatusBarMenuBuilder | (internal) |
| 33 | method | init | (internal) |
| 39 | fn | buildMenu | (internal) |
| 120 | fn | isCLIInstalled | (private) |
| 144 | fn | checkBinaryExists | (private) |
| 173 | fn | resolveSelectedProvider | (private) |
| 182 | fn | accountsForProvider | (private) |
| 189 | fn | buildHeaderItem | (private) |
| 196 | fn | buildNetworkInfoItem | (private) |
| 223 | fn | buildAccountCardItem | (private) |
| 254 | fn | buildAntigravitySubmenu | (private) |
| 270 | fn | showSwitchConfirmation | (private) |
| 299 | fn | buildEmptyStateItem | (private) |
| 306 | fn | buildActionItems | (private) |
| 330 | class | MenuActionHandler | (internal) |
| 339 | fn | refresh | (internal) |
| 345 | fn | openApp | (internal) |
| 349 | fn | quit | (internal) |
| 353 | fn | openMainWindow | (internal) |
| 378 | struct | MenuHeaderView | (private) |
| 403 | struct | MenuProviderSectionHeader | (private) |
| 421 | struct | MenuProviderPickerView | (private) |
| 456 | struct | ProviderFilterButton | (private) |
| 488 | struct | ProviderIconMono | (private) |
| 512 | struct | MenuNetworkInfoView | (private) |
| 620 | fn | triggerCopyState | (private) |
| 631 | fn | setCopied | (private) |
| 642 | fn | copyButton | (private) |
| 659 | struct | MenuAccountCardView | (private) |
| 698 | fn | planConfig | (private) |
| 930 | fn | formatLocalTime | (private) |
| 949 | struct | ModelBadgeData | (private) |
| 988 | struct | AntigravityDisplayGroup | (private) |
| 995 | fn | menuDisplayPercent | (private) |
| 999 | fn | menuStatusColor | (private) |
| 1017 | struct | LowestBarLayout | (private) |
| 1097 | struct | RingGridLayout | (private) |
| 1141 | struct | CardGridLayout | (private) |
| 1190 | struct | ModernProgressBar | (private) |
| 1225 | struct | PercentageBadge | (private) |
| 1261 | struct | MenuModelDetailView | (private) |
| 1313 | struct | MenuEmptyStateView | (private) |
| 1328 | struct | MenuViewMoreAccountsView | (private) |
| 1376 | mod | extension AIProvider | (private) |
| 1398 | struct | MenuActionsView | (private) |
| 1436 | struct | MenuBarActionButton | (private) |

## Quotio/ViewModels/QuotaViewModel.swift (1913 lines)

| Line | Kind | Name | Visibility |
| ---- | ---- | ---- | ---------- |
| 11 | class | QuotaViewModel | (internal) |
| 131 | fn | loadDisabledAuthFiles | (private) |
| 137 | fn | saveDisabledAuthFiles | (private) |
| 142 | fn | syncDisabledStatesToBackend | (private) |
| 161 | fn | notifyQuotaDataChanged | (private) |
| 164 | method | init | (internal) |
| 174 | fn | setupProxyURLObserver | (private) |
| 190 | fn | normalizedProxyURL | (private) |
| 202 | fn | updateProxyConfiguration | (internal) |
| 215 | fn | setupRefreshCadenceCallback | (private) |
| 223 | fn | setupWarmupCallback | (private) |
| 241 | fn | restartAutoRefresh | (private) |
| 253 | fn | initialize | (internal) |
| 263 | fn | initializeFullMode | (private) |
| 279 | fn | checkForProxyUpgrade | (private) |
| 284 | fn | initializeQuotaOnlyMode | (private) |
| 294 | fn | initializeRemoteMode | (private) |
| 322 | fn | setupRemoteAPIClient | (private) |
| 330 | fn | reconnectRemote | (internal) |
| 339 | fn | loadDirectAuthFiles | (internal) |
| 345 | fn | refreshQuotasDirectly | (internal) |
| 373 | fn | autoSelectMenuBarItems | (private) |
| 407 | fn | syncMenuBarSelection | (internal) |
| 414 | fn | refreshClaudeCodeQuotasInternal | (private) |
| 435 | fn | refreshCursorQuotasInternal | (private) |
| 446 | fn | refreshCodexCLIQuotasInternal | (private) |
| 462 | fn | refreshGeminiCLIQuotasInternal | (private) |
| 480 | fn | refreshGlmQuotasInternal | (private) |
| 490 | fn | refreshWarpQuotasInternal | (private) |
| 514 | fn | refreshTraeQuotasInternal | (private) |
| 524 | fn | refreshKiroQuotasInternal | (private) |
| 530 | fn | cleanName | (internal) |
| 580 | fn | startQuotaOnlyAutoRefresh | (private) |
| 598 | fn | startQuotaAutoRefreshWithoutProxy | (private) |
| 617 | fn | isWarmupEnabled | (internal) |
| 621 | fn | warmupStatus | (internal) |
| 626 | fn | warmupNextRunDate | (internal) |
| 631 | fn | toggleWarmup | (internal) |
| 640 | fn | setWarmupEnabled | (internal) |
| 652 | fn | nextDailyRunDate | (private) |
| 663 | fn | restartWarmupScheduler | (private) |
| 696 | fn | runWarmupCycle | (private) |
| 759 | fn | warmupAccount | (private) |
| 804 | fn | warmupAccount | (private) |
| 865 | fn | fetchWarmupModels | (private) |
| 889 | fn | warmupAvailableModels | (internal) |
| 902 | fn | warmupAuthInfo | (private) |
| 924 | fn | warmupTargets | (private) |
| 938 | fn | updateWarmupStatus | (private) |
| 967 | fn | startProxy | (internal) |
| 1011 | fn | stopProxy | (internal) |
| 1039 | fn | toggleProxy | (internal) |
| 1047 | fn | setupAPIClient | (private) |
| 1054 | fn | startAutoRefresh | (private) |
| 1091 | fn | attemptProxyRecovery | (private) |
| 1107 | fn | refreshData | (internal) |
| 1154 | fn | manualRefresh | (internal) |
| 1165 | fn | refreshAllQuotas | (internal) |
| 1201 | fn | refreshQuotasUnified | (internal) |
| 1235 | fn | refreshAntigravityQuotasInternal | (private) |
| 1255 | fn | refreshAntigravityQuotasWithoutDetect | (private) |
| 1272 | fn | isAntigravityAccountActive | (internal) |
| 1277 | fn | switchAntigravityAccount | (internal) |
| 1287 | fn | beginAntigravitySwitch | (internal) |
| 1292 | fn | cancelAntigravitySwitch | (internal) |
| 1297 | fn | dismissAntigravitySwitchResult | (internal) |
| 1300 | fn | refreshOpenAIQuotasInternal | (private) |
| 1305 | fn | refreshCopilotQuotasInternal | (private) |
| 1310 | fn | refreshQuotaForProvider | (internal) |
| 1345 | fn | refreshAutoDetectedProviders | (internal) |
| 1352 | fn | startOAuth | (internal) |
| 1391 | fn | startCopilotAuth | (private) |
| 1408 | fn | startKiroAuth | (private) |
| 1442 | fn | pollCopilotAuthCompletion | (private) |
| 1459 | fn | pollKiroAuthCompletion | (private) |
| 1477 | fn | pollOAuthStatus | (private) |
| 1505 | fn | cancelOAuth | (internal) |
| 1509 | fn | deleteAuthFile | (internal) |
| 1545 | fn | toggleAuthFileDisabled | (internal) |
| 1576 | fn | pruneMenuBarItems | (private) |
| 1612 | fn | importVertexServiceAccount | (internal) |
| 1636 | fn | fetchAPIKeys | (internal) |
| 1646 | fn | addAPIKey | (internal) |
| 1658 | fn | updateAPIKey | (internal) |
| 1670 | fn | deleteAPIKey | (internal) |
| 1683 | fn | checkAccountStatusChanges | (private) |
| 1704 | fn | checkQuotaNotifications | (internal) |
| 1736 | fn | scanIDEsWithConsent | (internal) |
| 1806 | fn | savePersistedIDEQuotas | (private) |
| 1829 | fn | loadPersistedIDEQuotas | (private) |
| 1891 | fn | shortenAccountKey | (private) |
| 1903 | struct | OAuthState | (internal) |

## scripts/capture-screenshots.ts (763 lines)

| Line | Kind | Name | Visibility |
| ---- | ---- | ---- | ---------- |
| 54 | type | AppSource | (private) |
| 60 | interface | ScreenDef | (private) |
| 80 | type | AppearanceMode | (private) |
| 81 | type | ThemeChoice | (private) |
| 83 | interface | CaptureOptions | (private) |
| 93 | fn | sleep | (private) |
| 97 | type | RequiredTool | (private) |
| 99 | fn | checkRequiredTools | (private) |
| 115 | fn | removeFileIfExists | (private) |
| 130 | interface | AppAvailability | (private) |
| 137 | fn | detectAvailableApps | (private) |
| 146 | fn | getAppPath | (private) |
| 150 | fn | selectAppSource | (private) |
| 181 | fn | runAppleScript | (private) |
| 190 | fn | openURL | (private) |
| 194 | fn | log | (private) |
| 199 | fn | retry | (private) |
| 216 | fn | launchApp | (private) |
| 222 | fn | activateApp | (private) |
| 231 | fn | resizeWindow | (private) |
| 251 | fn | navigateToScreen | (private) |
| 283 | fn | downloadWallpaper | (private) |
| 304 | fn | ensureWallpapers | (private) |
| 312 | fn | getCurrentWallpaper | (private) |
| 323 | fn | setWallpaper | (private) |
| 337 | fn | getCurrentAppearance | (private) |
| 348 | fn | setAppearance | (private) |
| 365 | fn | hideDesktopIcons | (private) |
| 370 | fn | showDesktopIcons | (private) |
| 375 | fn | getScreenBounds | (private) |
| 388 | fn | getWindowId | (private) |
| 409 | fn | captureWindow | (private) |
| 429 | fn | compositeOnWallpaper | (private) |
| 448 | fn | compressPng | (private) |
| 457 | fn | hideAllWindows | (private) |
| 483 | fn | captureMenuBarDropdown | (private) |
| 536 | fn | captureScreen | (private) |
| 565 | fn | captureSelectedScreens | (private) |
| 584 | fn | ensureOutputDir | (private) |
| 594 | fn | showInteractiveTUI | (private) |
| 666 | fn | parseCliArgs | (private) |
| 702 | fn | main | (private) |

